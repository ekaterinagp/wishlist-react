(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},45:function(e,t,a){e.exports=a(79)},50:function(e,t,a){},73:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(43),l=a.n(r),o=(a(50),a(3)),s=a.n(o),i=a(5),m=a(2),u=a(11),p=a(7),d=a(17),h=a(4),f=a.n(h),g=a(82),b=a(83),E=a(84),v=a(85),w=a(86),N=a(87);function O(){var e,t=Object(n.useState)(!1),a=Object(m.a)(t,2),r=(a[0],a[1]),l=Object(n.useState)({token:"",id:""}),o=Object(m.a)(l,2),h=o[0],O=o[1],j=Object(p.f)();Object(n.useEffect)((function(){return console.log(h)}),[h]);var k=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=7;break}return e.next=3,f.a.post("https://wish-back.herokuapp.com/tokenIsValid",{headers:{"x-auth-token":S}});case 3:e.sent,r(!0),e.next=8;break;case 7:r(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=localStorage.getItem("auth-token");Object(n.useEffect)((function(){k()}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,{color:"dark",light:!0,expand:"md",dark:!0},c.a.createElement(b.a,{href:"/"},"Wish list"),c.a.createElement(E.a,(e={className:"mr-auto"},Object(d.a)(e,"className","mr-10"),Object(d.a)(e,"navbar",!0),e),S?c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{color:"primary",onClick:function(){O({token:"",id:""}),localStorage.removeItem("id"),localStorage.removeItem("auth-token"),j.push("/startpage")}},"Log out")):c.a.createElement(c.a.Fragment,null,c.a.createElement(w.a,null,c.a.createElement(N.a,{to:"".concat("/wishlist-react","/register"),activeClassName:"active",tag:u.c,onClick:function(){return j.push("/register")}},"Register")),c.a.createElement(w.a,null,c.a.createElement(N.a,{to:"".concat("/wishlist-react","/login"),activeClassName:"active",tag:u.c,onClick:function(){return j.push("/login")}},"Log in"))))))}a(40);function j(e){return c.a.createElement("div",{className:"errorNotice"},c.a.createElement("span",null,e.error),c.a.createElement("button",{className:"span-error",onClick:e.clearError},"X"))}function k(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(),o=Object(m.a)(l,2),u=o[0],d=o[1],h=Object(n.useState)(""),g=Object(m.a)(h,2),b=g[0],E=g[1],v=Object(n.useState)({token:"",user:""}),w=Object(m.a)(v,2),N=(w[0],w[1]),O=Object(p.f)(),k=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={email:a,password:u},e.next=5,f.a.post("https://wish-back.herokuapp.com/login",n).catch((function(e){return console.log(e)}));case 5:c=e.sent,console.log(c),N({token:c.data.token,user:c.data.user}),console.log(c),c.data.message&&E(c.data.message),localStorage.setItem("auth-token",c.data.token),localStorage.setItem("id",c.data.user.id),O.push("/home"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"form-style-6"},c.a.createElement("h2",{className:"align"},"Log in"),b&&c.a.createElement(j,{error:b,clearError:function(){return E("")}}),c.a.createElement("form",{onSubmit:k},c.a.createElement("label",{htmlFor:"login-email"},"Email"),c.a.createElement("input",{id:"login-email",type:"email",name:"field1",onChange:function(e){return r(e.target.value)}}),c.a.createElement("label",{htmlFor:"login-password"},"Password"),c.a.createElement("input",{id:"login-password",type:"password",name:"field2",onChange:function(e){return d(e.target.value)}}),c.a.createElement("input",{type:"submit",value:"Log in"})))}a(73);function S(){var e=Object(p.f)(),t=Object(n.useState)("If you've nothing nice to say, say nothing."),a=Object(m.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(!0),d=Object(m.a)(o,2),h=(d[0],d[1]);return Object(n.useEffect)((function(){var e=new AbortController,t=function(){var t=Object(i.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("https://api.adviceslip.com/advice",{signal:e.signal}).catch((function(e){return console.log(e)}));case 2:a=t.sent,console.log(a.data.slip.advice),l(a.data.slip.advice),h(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=setInterval((function(){t()}),1e4);return function(){clearInterval(a),e.abort()}}),["https://api.adviceslip.com/advice"]),c.a.createElement("div",{className:"start-container"},c.a.createElement("div",{className:"top-part"}," ",c.a.createElement("h1",{className:"start-title"},"Wish list"),c.a.createElement("h4",null,"Make sure you get only what you really want")),c.a.createElement("div",{className:"login-part"},c.a.createElement(k,null),c.a.createElement("div",{className:"not-registered"},c.a.createElement("p",null,"Not registered? Sign up")," ",c.a.createElement(u.a,null,c.a.createElement(u.b,{to:"".concat("/wishlist-react","/register"),onClick:function(){return e.push("/register")}},"Sign up")))),c.a.createElement("div",{className:"advice-part"},c.a.createElement("h3",null,"Advice of the day"),c.a.createElement("h2",null,r)))}a(41);function x(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=(t[0],t[1],Object(p.f)()),r=localStorage.getItem("id"),l=Object(n.useState)({name:"",lastName:"",email:""}),o=Object(m.a)(l,2),d=o[0],h=o[1],g=localStorage.getItem("id"),b=Object(n.useState)(!0),E=Object(m.a)(b,2),v=E[0],w=E[1],N=Object(n.useState)(),j=Object(m.a)(N,2),k=j[0],S=j[1],x=Object(n.useState)([]),y=Object(m.a)(x,2),I=y[0],C=y[1],F=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C([]),e.next=3,f.a.get("https://wish-back.herokuapp.com/userswishes");case 3:a=e.sent,console.log(a),a.data.length&&(console.log(a.data),C(a.data));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=localStorage.getItem("id"))){e.next=7;break}return e.next=4,f.a.get("https://wish-back.herokuapp.com/user/".concat(a));case 4:n=e.sent,console.log(n.data),n.data&&h({name:n.data.firstName,lastName:n.data.lastName,email:n.data.email});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),a=localStorage.getItem("id"),e.next=4,f.a.get("https://wish-back.herokuapp.com/followers/".concat(a));case 4:n=e.sent,console.log(n.data.follows),S(n.data.follows),w(!1),console.log(k);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e){e.preventDefault(),console.log(e.target.id),L(e.target.id)},L=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={follower_id:t,user_id:localStorage.getItem("id")},e.next=4,f.a.post("https://wish-back.herokuapp.com/follow",a).catch((function(e){return console.log(e)}));case 4:n=e.sent,console.log({addedDataRes:n}),_(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){w(!0),D(),F(),_(),w(!1)}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(O,null),c.a.createElement("div",{className:"page"},c.a.createElement("div",{className:"welcome"},d.name?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"welcome-top"},c.a.createElement("h2",{className:"welcome-title"},"Welcome ",c.a.createElement("br",null)," ",d.name," ",d.lastName),c.a.createElement("button",{className:"example_b justify",onClick:function(){return a.push("/wishlist")},to:"".concat("/wishlist-react","/wishlist")},"My wish list"))):c.a.createElement("h3",{className:"to-log-in"},"Please log in ")),v&&!I.length?c.a.createElement("p",{className:"loading"},"Loading..."):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"wrapper"},c.a.createElement("div",{className:"top-wrapper"},c.a.createElement("h2",{className:"title-friends"},"Friends"),""==k?c.a.createElement("p",{className:"not-follow"},"You do not follow any lists yet"):null,c.a.createElement("div",{className:"articleContainer"},console.log(I),console.log("follows",k),I.filter((function(e){return e.id!=g})).filter((function(e){return k?k.includes(e.id):null})).map((function(e){var t=e.id,a=e.first_name,n=e.last_name,l=e.wishes;return c.a.createElement("div",{className:"article-home card-1",key:"random-".concat(t)},c.a.createElement("div",null,c.a.createElement("h2",{className:"list-title"},a," ",n)),c.a.createElement("div",{className:"wishes-middle"},l.length?l.map((function(e){var t=e.wish,a=e.desc,n=e.id;return c.a.createElement("div",{className:"wishOne",key:n},c.a.createElement("p",{className:"wish-title"},t),c.a.createElement("p",{className:"wish-desc"},a))})):c.a.createElement("p",{className:"no-wishes"},"No wishes yet")),c.a.createElement("div",{className:"button-read"},r?c.a.createElement(u.b,{to:"".concat("/wishlist-react","/list/").concat(t)},c.a.createElement("button",{className:"example_b",align:"center",id:t},"Read more")):c.a.createElement("h5",null,"Please log in to read/add comments")))})))),c.a.createElement("div",{className:"bottom-wrapper"},c.a.createElement("h2",{className:"title-friends"},"Add friends"),c.a.createElement("div",{className:"articleContainer"},console.log(I),console.log("follows",k),I.filter((function(e){return e.id!=g})).filter((function(e){return k?!k.includes(e.id):null})).map((function(e){var t=e.id,a=e.first_name,n=e.last_name;e.wishes;return c.a.createElement("div",{className:"article-home",key:"random-".concat(t)},c.a.createElement("div",null,c.a.createElement("h2",{className:"list-title"},a," ",n)),c.a.createElement("p",{className:"no-wishes"},"You need to follow user to read lists and comments"),c.a.createElement("div",{className:"div-follow"},c.a.createElement("button",{className:"example_b",id:t,onClick:A},"Follow")))}))))))))}function y(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(),o=Object(m.a)(l,2),u=o[0],d=o[1],h=Object(n.useState)(),g=Object(m.a)(h,2),b=g[0],E=g[1],v=Object(n.useState)(),w=Object(m.a)(v,2),N=w[0],O=w[1],k=Object(n.useState)(),S=Object(m.a)(k,2),x=S[0],y=S[1],I=Object(n.useState)(""),C=Object(m.a)(I,2),F=C[0],D=C[1],_=Object(n.useState)({id:"",token:""}),A=Object(m.a)(_,2),L=(A[0],A[1]),z=Object(p.f)(),M=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,c,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={email:a,password:u,passwordCheck:b,firstName:N,lastName:x},e.next=5,f.a.post("https://wish-back.herokuapp.com/register",n).catch((function(e){return console.log(e)}));case 5:if(c=e.sent,console.log(c),!c.data.message){e.next=11;break}D(c.data.message),e.next=19;break;case 11:return e.next=13,f.a.post("https://wish-back.herokuapp.com/login",{email:a,password:u}).catch((function(e){return console.log(e)}));case 13:r=e.sent,console.log(r),L({token:r.data.token,id:r.data.user}),localStorage.setItem("auth-token",r.data.token),localStorage.setItem("id",r.data.user.id),z.push("/home");case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0.message);case 24:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"page-form"},c.a.createElement("form",{className:"form-style-6",onSubmit:M},F&&c.a.createElement(j,{error:F,clearError:function(){return D("")}}),c.a.createElement("h2",{className:"align"},"Register"),c.a.createElement("label",{htmlFor:"register-email"},"Email"),c.a.createElement("input",{id:"register-email",type:"email",placeholder:"Email",onChange:function(e){return r(e.target.value)}}),c.a.createElement("label",{htmlFor:"register-firstName"},"First Name"),c.a.createElement("input",{id:"register-firstName",type:"text",placeholder:"First name",onChange:function(e){return O(e.target.value)}}),c.a.createElement("label",{htmlFor:"register-lastName"},"Last Name"),c.a.createElement("input",{id:"register-lastName",type:"text",placeholder:"Last name",onChange:function(e){return y(e.target.value)}}),c.a.createElement("label",{htmlFor:"register-password"},"Password"),c.a.createElement("input",{id:"register-password",placeholder:"Password",type:"password",onChange:function(e){return d(e.target.value)}}),c.a.createElement("label",{htmlFor:"register-password"},"Repeat password"),c.a.createElement("input",{type:"password",placeholder:"Repeat password",onChange:function(e){return E(e.target.value)}}),c.a.createElement("input",{type:"submit",value:"Register"})))}var I=a(23),C=(a(19),function(e){var t=Object(n.useState)(),a=Object(m.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(""),u=Object(m.a)(o,2),p=u[0],d=u[1],h=localStorage.getItem("id"),g=e.listId,b=function(){var t=Object(i.a)(s.a.mark((function t(a){var n,c,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),t.prev=1,l(""),!(n=localStorage.getItem("id"))){t.next=12;break}return c={text:r},t.next=8,f.a.post("https://wish-back.herokuapp.com/".concat(n,"/comment/list/").concat(g),c).catch((function(e){return console.log(e)}));case 8:o=t.sent,console.log(o),o.data.res&&d(o.data.res),e.parentMethod();case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement("div",null,h?c.a.createElement("form",{onSubmit:b,className:"add-comment form-style-6"},p&&c.a.createElement(j,{error:p,clearError:function(){return d("")}}),c.a.createElement("textarea",{type:"text",id:"text",value:r,placeholder:"Text",onChange:function(e){return l(e.target.value)}}),c.a.createElement("button",{className:"example_b comment-btn"},"Add comment")):c.a.createElement("p",null,"Only authorized users can leave comments"))}),F=a(28),D=a(22),_=a.n(D),A=(a(80),_.a.initializeApp({apiKey:"AIzaSyDD1PO2QD3r-8IilISqzDe1FmZqAtqSDL4",authDomain:"wishlist-8b07c.firebaseapp.com",databaseURL:"https://wishlist-8b07c.firebaseio.com",projectId:"wishlist-8b07c",storageBucket:"wishlist-8b07c.appspot.com",messagingSenderId:"568338190383",appId:"1:568338190383:web:fd0c5cf9bb5fd9352d36da",measurementId:"G-Y24WL2NCJ0"}),_.a.storage()),L=function(e){console.log(e);var t=Object(n.useState)(""),a=Object(m.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(e.img),u=Object(m.a)(o,2),p=u[0],d=u[1];var h=function(){var t=Object(i.a)(s.a.mark((function t(a){var n,c,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),n=/.+?(?=&)/g,c=a.imgUrl.match(n)[0],t.next=5,f.a.post("https://wish-back.herokuapp.com/".concat(e.wishID,"/image/add"),{imgUrl:c}).catch((function(e){return console.log(e)}));case 5:r=t.sent,console.log(r),window.location.reload(!1);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){p!==e.img&&h(p)}),[p]),c.a.createElement("div",null,c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""===r&&console.error("not an image, the image file is a ".concat(typeof r)),A.ref("/images/".concat(r.name)).put(r).on("state_changed",(function(e){console.log(e)}),(function(e){console.log(e)}),(function(){A.ref("images").child(r.name).getDownloadURL().then((function(e){d((function(t){return Object(F.a)(Object(F.a)({},t),{},{imgUrl:e})}))}))}))}},c.a.createElement("input",{type:"file",className:"input-firebase",onChange:function(e){var t=e.target.files[0];console.log("name?",t.name),l((function(e){return t})),console.log(r)}}),c.a.createElement("button",{className:"example_b uploads"},"Upload")),p?c.a.createElement("div",{className:"wish-div",style:{backgroundImage:"url(".concat(p,")")}}):c.a.createElement("div",{className:"wish-div",style:{backgroundImage:"url(https://firebasestorage.googleapis.com/v0/b/wishlist-8b07c.appspot.com/o/images%2Fdefault.jpg?alt=media)"}}))},z=(a(78),function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(""),u=Object(m.a)(o,2),d=u[0],h=u[1],g=Object(n.useState)(""),b=Object(m.a)(g,2),E=b[0],v=b[1],w=(Object(p.f)(),function(){var t=Object(i.a)(s.a.mark((function t(a){var n,c,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(localStorage.getItem("id")),a.preventDefault(),t.prev=2,console.log(r,d),l(""),h(""),console.log(r,d),n=localStorage.getItem("id"),console.log(n),c={wish:r,desc:d},t.next=12,f.a.post("https://wish-back.herokuapp.com/".concat(n,"/wish/add"),c).catch((function(e){return console.log(e)}));case 12:o=t.sent,console.log({addedDataRes:o}),o.data.res&&(console.log(o.data.res),v(o.data.res)),e.parentMethod(),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(2),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[2,18]])})));return function(e){return t.apply(this,arguments)}}());return c.a.createElement("div",null,c.a.createElement("form",{onSubmit:w,className:"form-style-6"},E&&c.a.createElement(j,{error:E,clearError:function(){return v("")}}),c.a.createElement("input",{type:"text",value:r,id:"wish",placeholder:"Wish",onChange:function(e){return l(e.target.value)}}),c.a.createElement("input",{type:"text",value:d,id:"desc",placeholder:"Description",onChange:function(e){return h(e.target.value)}}),c.a.createElement("button",{className:"example_b"},"Add your Wish")))}),M=function(e){var t=e.msg,a=e.parentMethod,n=e.id,r=e.resetState;return console.log(t,n),c.a.createElement("div",{className:"alert alert-info",role:"alert"},c.a.createElement("button",{onClick:function(){return r()},id:"button-close",type:"button",className:"close","aria-label":"Close"},c.a.createElement("span",{"aria-hidden":"true"},"\xd7")),t,c.a.createElement("button",{className:"example_b",onClick:function(){return a(n)}},"Delete"))},R=function(e){console.log("from update",e);var t=Object(n.useState)(e.userData.email),a=Object(m.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(e.userData.name),u=Object(m.a)(o,2),d=u[0],h=u[1],g=Object(n.useState)(e.userData.lastName),b=Object(m.a)(g,2),E=b[0],v=b[1],w=Object(n.useState)(""),N=Object(m.a)(w,2),O=N[0],k=N[1],S=Object(p.f)(),x=function(e){console.log(e.target.value),console.log(e.target.id),"firstName"==e.target.id&&(h(e.target.value),console.log(d)),"lastName"==e.target.id&&(v(e.target.value),console.log(E)),"email"==e.target.id&&(l(e.target.value),console.log(r))},y=function(){var t=Object(i.a)(s.a.mark((function t(a){var n,c,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,n=localStorage.getItem("id"),c={firstName:d,lastName:E,email:r},t.next=6,f.a.put("https://wish-back.herokuapp.com/edit/".concat(n,"/settings"),c).catch((function(e){return console.log(e)}));case 6:l=t.sent,console.log(l),l.data.message?k(l.data.message):(S.push("/wishlist"),e.fetchHandler(),e.open(!1)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0.response.data.message);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("form",{onSubmit:y,id:"update_form",className:"form-style-6"},O&&c.a.createElement(j,{error:O,clearError:function(){return k("")}}),c.a.createElement("input",{type:"text",id:"firstName",placeholder:"First Name",value:d,onChange:x}),c.a.createElement("input",{type:"text",id:"lastName",placeholder:"Last Name",value:E,onChange:x}),c.a.createElement("input",{type:"email",id:"email",placeholder:"Email",value:r,onChange:x}),c.a.createElement("button",{className:"example_b reset"},"Save settings"))))},U=function(e){console.log("from update",e);var t=Object(n.useState)(e.userData.color),a=Object(m.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(e.userData.size),u=Object(m.a)(o,2),d=u[0],h=u[1],g=Object(n.useState)(e.userData.shop),b=Object(m.a)(g,2),E=b[0],v=b[1],w=Object(n.useState)(!0),N=Object(m.a)(w,2),O=(N[0],N[1],Object(n.useState)("")),k=Object(m.a)(O,2),S=k[0],x=k[1],y=Object(p.f)(),I=function(e){console.log(e.target.value),console.log(e.target.id),"color"==e.target.id&&(l(e.target.value),console.log(r)),"size"==e.target.id&&(h(e.target.value),console.log(d)),"shop"==e.target.id&&(v(e.target.value),console.log(E))},C=function(){var t=Object(i.a)(s.a.mark((function t(a){var n,c,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,n=localStorage.getItem("id"),c={color:r,size:d,shop:E},t.next=6,f.a.put("https://wish-back.herokuapp.com/edit/".concat(n,"/preferences"),c).catch((function(e){return console.log(e)}));case 6:l=t.sent,console.log(l),l.data.message?x(l.data.message):(y.push("/wishlist"),e.fetchHandler(),e.open(!1)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0.response.data.message);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("form",{onSubmit:C,id:"details_update",className:"form-style-6"},S&&c.a.createElement(j,{error:S,clearError:function(){return x("")}}),c.a.createElement("input",{type:"text",id:"color",placeholder:"Color",value:r,onChange:I}),c.a.createElement("input",{type:"text",id:"size",placeholder:"Size",value:d,onChange:I}),c.a.createElement("input",{type:"text",id:"shop",placeholder:"Shop",value:E,onChange:I}),c.a.createElement("button",{className:"example_b reset"},"Save preferences"))))};function W(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),o=Object(m.a)(l,2),u=o[0],p=o[1],d=Object(n.useState)([]),h=Object(m.a)(d,2),g=h[0],b=h[1],E=Object(n.useState)(!0),v=Object(m.a)(E,2),w=v[0],N=v[1],j=Object(n.useState)(!1),k=Object(m.a)(j,2),S=k[0],x=k[1],y=Object(n.useState)(""),F=Object(m.a)(y,2),D=F[0],_=F[1],A=Object(n.useState)(""),W=Object(m.a)(A,2),P=W[0],Y=W[1],H=Object(n.useState)(!0),q=Object(m.a)(H,2),B=q[0],J=q[1],T=Object(n.useState)({msg:"",id:""}),V=Object(m.a)(T,2),G=V[0],K=V[1],Q=Object(n.useState)({name:"",lastName:"",email:""}),X=Object(m.a)(Q,2),Z=X[0],$=X[1],ee=localStorage.getItem("id"),te=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!1),e.next=3,f.a.get("https://wish-back.herokuapp.com/".concat(ee)).catch((function(e){return console.log(e)}));case 3:t=e.sent,console.log(t),t.data.wishes&&(B?t.data.wishes.forEach((function(e){e.commentsAreOpen=!1})):g.forEach((function(e){t.data.wishes.find((function(t){return t.id===e.id})).commentsAreOpen=e.commentsAreOpen})),t.data.wishes.forEach((function(e){e.comments.length&&e.comments.reverse()})),b(t.data.wishes)),$({name:t.data.name,lastName:t.data.lastName,email:t.data.email}),J(!1),N(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://wish-back.herokuapp.com/user/".concat(ee)).catch((function(e){return console.log(e)}));case 2:t=e.sent,$({name:t.data.firstName,lastName:t.data.lastName,email:t.data.email}),N(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,f.a.get("https://wish-back.herokuapp.com/followers/".concat(ee)).catch((function(e){return console.log(e)}));case 3:t=e.sent,console.log(t.data),_(t.data),N(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,f.a.get("https://wish-back.herokuapp.com/details/".concat(ee)).catch((function(e){return console.log(e)}));case 3:t=e.sent,console.log(t.data),t.data&&Y(t.data),N(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),e.next=3,f.a.delete("https://wish-back.herokuapp.com/deletewish/".concat(t),a).catch((function(e){return console.log(e)}));case 3:return e.sent,oe(),e.next=7,f.a.get("https://wish-back.herokuapp.com/list/".concat(ee)).catch((function(e){return console.log(e)}));case 7:n=e.sent,b(n.data.wishes);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),e.next=3,f.a.delete("https://wish-back.herokuapp.com/deletecomment/".concat(t),a).catch((function(e){return console.log(e)}));case 3:n=e.sent,console.log(n),te();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){K({msg:"",id:""})};return Object(n.useEffect)((function(){localStorage.getItem("id")?(N(!0),ae(),ne(),ce(),te(),N(!1)):x(!0)}),[]),c.a.createElement(c.a.Fragment,null,S?c.a.createElement("p",null,"You should log in to see list"):c.a.createElement(c.a.Fragment,null,c.a.createElement(O,null),c.a.createElement("div",{className:"height"},w?c.a.createElement("p",{className:"loading"},"Loading..."):c.a.createElement("div",{className:"user-profile"},c.a.createElement("div",{className:"profile"},null!==Z?c.a.createElement("div",{className:"user-details"},c.a.createElement("h2",null,Z.name," ",Z.lastName),c.a.createElement("h3",null,Z.email),c.a.createElement("div",{className:"user-button-update"}," ",c.a.createElement("button",{className:"example_b toggle",onClick:function(){r(!a)}},"Update settings"),a?c.a.createElement(R,{userData:Z,fetchHandler:ae,open:r}):null),c.a.createElement("div",{className:"user-data"},c.a.createElement("div",{className:"followers"},c.a.createElement("p",null,"Size")," ",c.a.createElement("p",{className:"follow-number"},P.size?P.size:null)),c.a.createElement("div",{className:"followers"},c.a.createElement("p",null,"Color")," ",c.a.createElement("p",{className:"follow-number"},P.color?P.color:null)),c.a.createElement("div",{className:"followers"},c.a.createElement("p",null,"Shop")," ",c.a.createElement("p",{className:"follow-number"},P.shop?P.shop:null))),c.a.createElement("div",{className:"user-button-update"},c.a.createElement("button",{className:"example_b toggle",onClick:function(){p(!u)}},"Update preferences"),u?c.a.createElement(U,{userData:P,fetchHandler:ce,open:p}):null),c.a.createElement("div",{className:"user-data"},""!=D?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"followers"},c.a.createElement("p",null,"Following "),c.a.createElement("p",{className:"follow-number"},D.follows.length)),c.a.createElement("div",{className:"followers"},c.a.createElement("p",null,"Followers "),c.a.createElement("p",{className:"follow-number"},D.followers.length))," "):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"followers"},c.a.createElement("p",null,"Following "),c.a.createElement("p",{className:"follow-number"},"0")),c.a.createElement("div",{className:"followers"},c.a.createElement("p",null,"Followers "),c.a.createElement("p",{className:"follow-number"},"0"))," "),c.a.createElement("div",{className:"followers"},c.a.createElement("p",null,"Wishes "),c.a.createElement("p",{className:"follow-number"},g?g.length:"0")))):c.a.createElement("p",null," Please log in ")),console.log(g),G.msg?c.a.createElement(M,{msg:G.msg,id:G.id,parentMethod:re,resetState:oe}):null,g.length?c.a.createElement("div",{className:"user-wishes masonry"},g.map((function(e){var t=e.id,a=e.wish,n=e.desc,r=e.comments,l=e.imgURL,o=e.commentsAreOpen;return c.a.createElement("div",{className:"article card-1 masonry-brick",key:"random-".concat(n)},c.a.createElement("div",{className:"top-div-wish"}," ",c.a.createElement("p",{className:"delete-btn",onClick:function(){return function(e){oe(),K({msg:"Are you sure you want to delete this wish?",id:e})}(t)}},"\u2716"),c.a.createElement("h2",{className:"list-title"},a),c.a.createElement("p",{className:"description"},n),c.a.createElement("div",{id:t},c.a.createElement(L,{wishID:t,img:l,parentMethod:te}))),c.a.createElement("button",{id:t,className:"example_b toggle",onClick:function(){return function(e){console.log("opencomments",e),console.log(g),g.forEach((function(t){t.id===e&&(console.log(t),t.commentsAreOpen=!t.commentsAreOpen)})),b(Object(I.a)(g))}(t)}},"Comments"),c.a.createElement("div",{className:"containerToggle",id:t,style:{display:o?"block":"none"}},c.a.createElement("div",{className:"middle-div-comments"},console.log(r),r.map((function(e){var t=e.text,a=e.created,n=e.firstName,r=e.lastName,l=e.id;return c.a.createElement("div",{className:"commentOne",key:t},c.a.createElement("p",{className:"comment-author"},n," ",r),c.a.createElement("p",{className:"comment-text"},t),c.a.createElement("p",{className:"comment-time"},a),console.log(l),c.a.createElement("p",{className:"delete-comment",onClick:function(){return le(l)},id:l},"Delete comment"))}))),c.a.createElement("div",{className:"bottom-div-add-comment"},c.a.createElement(C,{listId:t,parentMethod:te}))))})),c.a.createElement("div",{className:"article"},c.a.createElement(z,{parentMethod:te}))):c.a.createElement("div",{className:"create-list"},c.a.createElement("h2",null,"Create your wish list"),c.a.createElement("div",{className:"article"},c.a.createElement(z,{parentMethod:te})))))))}function P(e){var t=e.match.params;console.log(t);var a=Object(n.useState)(!1),r=Object(m.a)(a,2),l=(r[0],r[1],Object(n.useState)(!1)),o=Object(m.a)(l,2),u=(o[0],o[1],Object(n.useState)()),p=Object(m.a)(u,2),d=p[0],h=p[1],g=Object(n.useState)({name:"",lastName:"",email:""}),b=Object(m.a)(g,2),E=b[0],v=b[1],w=Object(n.useState)(!0),N=Object(m.a)(w,2),j=N[0],k=N[1],S=Object(n.useState)(!1),x=Object(m.a)(S,2),y=x[0],F=x[1],D=Object(n.useState)(!0),_=Object(m.a)(D,2),A=_[0],L=_[1],z=function(){var e=Object(i.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://wish-back.herokuapp.com/list/".concat(t.listId)).catch((function(e){return console.log(e)}));case 2:a=e.sent,console.log(a),a.data.wishes&&(A?a.data.wishes.forEach((function(e){e.commentsAreOpen=!1})):d.forEach((function(e){a.data.wishes.find((function(t){return t.id===e.id})).commentsAreOpen=e.commentsAreOpen})),a.data.wishes.forEach((function(e){e.comments.length&&e.comments.reverse()})),h(a.data.wishes)),v({name:a.data.name,lastName:a.data.lastName,email:a.data.email}),L(!1),k(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){localStorage.getItem("id")?z():F(!0)}),[]),c.a.createElement(c.a.Fragment,null,y?c.a.createElement("p",null,"You should log in to see list"):c.a.createElement(c.a.Fragment,null,c.a.createElement(O,null),c.a.createElement("div",{className:"height"},j?c.a.createElement("p",{className:"loading"},"Loading..."):c.a.createElement("div",{className:"user-profile"},c.a.createElement("div",{className:"profile"},null!==E?c.a.createElement("div",null,c.a.createElement("h2",{className:"center"},"Wish list for ",c.a.createElement("br",null),E.name," ",E.lastName),c.a.createElement("h3",{className:"center"},c.a.createElement("strong",{className:"blue"},"Contact:")," ",E.email)):c.a.createElement("p",null," Please log in ")),c.a.createElement("div",{className:""},d.length?c.a.createElement("div",{className:"user-wishes"},console.log(d),d.map((function(e){var t=e.id,a=e.wish,n=e.desc,r=e.comments,l=e.imgURL,o=e.commentsAreOpen;return c.a.createElement("div",{className:"article card-1",key:"random-".concat(n)},c.a.createElement("div",{className:"top-div-wish"},c.a.createElement("h2",{className:"list-title"},a),c.a.createElement("p",{className:"description"},n),c.a.createElement("div",{id:t},l?c.a.createElement("div",{className:"wish-div",style:{backgroundImage:"url(".concat(l,")")}}):c.a.createElement("div",{className:"wish-div",style:{backgroundImage:"url(https://firebasestorage.googleapis.com/v0/b/wishlist-8b07c.appspot.com/o/images%2Fdefault.jpg?alt=media)"}}))),c.a.createElement("button",{id:t,className:"example_b toggle",onClick:function(){return function(e){console.log("opencomments",e),d.forEach((function(t){t.id===e&&(console.log(t),t.commentsAreOpen=!t.commentsAreOpen)})),h(Object(I.a)(d))}(t)}},"Comments"),c.a.createElement("div",{className:"containerToggle",id:t,style:{display:o?"block":"none"}},c.a.createElement("div",{className:"middle-div-comments"},r.map((function(e){var t=e.text,a=e.created,n=e.firstName,r=e.lastName;return c.a.createElement("div",{className:"commentOne",key:t},c.a.createElement("p",{className:"comment-author"},n," ",r),c.a.createElement("p",{className:"comment-text"},t),c.a.createElement("p",{className:"comment-time"},a))}))),c.a.createElement("div",{className:"bottom-div-add-comment"},c.a.createElement(C,{listId:t,parentMethod:z}))))}))):c.a.createElement("h2",{className:"no-wish"},E.name," ",E.lastName," has no wishes yet"," "))))))}function Y(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],r=t[1],l=localStorage.getItem("auth-token"),o=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=7;break}return e.next=3,f.a.post("https://wish-back.herokuapp.com/tokenIsValid",{headers:{"x-auth-token":l}});case 3:e.sent,r(!0),e.next=8;break;case 7:r(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){o()}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{basename:"/"},c.a.createElement(p.c,null,a?c.a.createElement(p.a,{exact:!0,path:"".concat("/wishlist-react","/"),component:x}):c.a.createElement(p.a,{exact:!0,path:"".concat("/wishlist-react","/"),component:S}),c.a.createElement(p.a,{exact:!0,path:"".concat("/wishlist-react","/stargtpage"),component:S}),c.a.createElement(p.a,{path:"".concat("/wishlist-react","/home"),component:x}),c.a.createElement(p.a,{path:"".concat("/wishlist-react","/register"),component:y}),c.a.createElement(p.a,{path:"".concat("/wishlist-react","/login"),component:k}),c.a.createElement(p.a,{path:"".concat("/wishlist-react","/wishlist"),component:W}),c.a.createElement(p.a,{exact:!0,path:"".concat("/wishlist-react","/list/:listId"),component:P}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.749cb518.chunk.js.map